# Flink和Spark等框架的通用依赖问题
## 问题定义
- JVM的ClassLoader在加载类的时候，由同一个Classloader加载的类，如果出现重复，只有第一个会被加载，后面的重复类会被忽略。
- 对于Flink和Spark等框架来说，其上运行的代码可以分为用户代码和框架代码，用户代码有自身依赖的Ｊar包，框架代码也有自身依赖的Ｊar包，如果用户代码和框架代码使用了同一个Ｊar包的两个不兼容版本，在运行时如果不能将框架代码（包括依赖）和用户代码（包括依赖）相互隔离将导致用户或框架代码运行时使用的Ｊar包版本不是其本来需要的版本，从而导致执行出错。
## 解决方案
- 方案一：使用maven-shade-plugin插件，shade化第三方Ｊar包，以避免Ｊar包版本冲突；例如将项目中以com.google.common.*开头的GuavaＪar包中的Class以及代码中的使用点全部改名为my.guava.common.*，然后打包在一起，这样便可以避免冲突．
- 方案二：
# Classloader
## 介绍

## 特性


# 